/* ================================================================= */
/* ESTILOS FINAIS E UNIFICADOS DA PLATAFORMA (LOGIN + DASHBOARD)   */
/* ================================================================= */

/* --- ESTILOS GERAIS --- */
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    color: #1f2937;
    background-color: #f0f4f8; 
}

/* --- ESTILOS DA PÁGINA DE LOGIN (index.html) --- */

/* Força o body da página de login a ocupar a tela toda para a centralização funcionar */
body:not(.dashboard-body) {
    height: 100vh;
}

header {
    background-color: #ffffff;
    color: #1c3d5a;
    padding: 15px 30px;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    border-bottom: 1px solid #e5e7eb;
}

/* CORREÇÃO: Diminui o tamanho do título em todas as páginas */
header h1 {
    font-size: 22px;
    margin: 0;
    font-weight: 600;
}

/* CORREÇÃO: Centraliza apenas o box de login, e não a página inteira */
.login-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #ffffff;
    padding: 40px;
    border-radius: 12px;
    box-shadow: 0 8px 32px rgba(0, 39, 112, 0.1);
    width: 100%;
    max-width: 400px;
    text-align: center;
    box-sizing: border-box;
}

.login-container h2 {
    color: #1c3d5a;
    margin-top: 0;
    margin-bottom: 10px;
}

.login-container p {
    color: #6b7280;
    margin-bottom: 30px;
}

.login-container .form-group {
    margin-bottom: 20px;
}

.login-container label {
    display: block;
    text-align: left;
    margin-bottom: 8px;
    font-weight: 500;
    color: #374151;
}

.login-container input {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #d1d5db;
    border-radius: 8px;
    box-sizing: border-box;
    font-size: 16px;
    margin-bottom: 20px;
}

.login-container input:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2);
}

.login-container button {
    width: 100%;
    padding: 12px;
    background-color: #007BFF;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
    transition: background-color 0.2s ease;
}

.login-container button:hover {
    background-color: #0056b3;
}


/* ================================================================= */
/* ESTILOS ESPECÍFICOS DO DASHBOARD (dashboard.html)               */
/* ================================================================= */

body.dashboard-body {
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden; 
}

.dashboard-container {
    display: flex;
    flex-grow: 1;
    overflow: hidden;
}

.sidebar {
    width: 240px;
    background-color: #ffffff;
    border-right: 1px solid #e5e7eb;
    padding: 25px 15px;
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
}

.student-info h3 { margin-top: 0; padding: 0 10px; font-size: 18px; color: #1f2937; }
.sidebar nav { margin-top: 20px; }
.sidebar nav ul { list-style: none; padding: 0; margin: 0; }
.sidebar nav li a { display: block; padding: 12px 20px; text-decoration: none; color: #374151; border-radius: 8px; font-weight: 500; margin-bottom: 5px; transition: background-color 0.2s ease, color 0.2s ease; }
.sidebar nav li a:hover { background-color: #f3f4f6; }
.sidebar nav li.active a { background-color: #007BFF; color: white; }

.main-content {
    flex-grow: 1;
    padding: 30px 40px;
    overflow-y: auto;
}

.main-content h2 { font-size: 28px; color: #1c3d5a; margin-top: 0; margin-bottom: 30px; }
.hidden { display: none !important; }

/* --- ESTILO PADRÃO PARA FORMULÁRIOS EM CARD --- */
.form-card {
    max-width: 700px;
    margin: 0 auto;
    background: #ffffff;
    padding: 40px;
    border-radius: 12px;
    border: 1px solid #e9edf2;
    box-shadow: 0 4px 12px rgba(0, 39, 112, 0.06);
}

.form-card .form-group { margin-bottom: 20px; }
.form-card label { display: block; margin-bottom: 8px; font-weight: 500; color: #374151; }
.form-card input, .form-card select { width: 100%; padding: 12px 15px; font-size: 15px; border: 1px solid #d1d5db; border-radius: 8px; box-sizing: border-box; }
.form-card input:focus, .form-card select:focus { outline: none; border-color: #007BFF; box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2); }
.form-card button[type="submit"] { display: block; width: auto; min-width: 200px; margin: 20px auto 0 auto; padding: 12px 35px; background-color: #007BFF; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; }

/* --- SEÇÃO PAINEL DE MÉTRICAS E SUB-ABAS --- */
.sub-nav { margin-bottom: 20px; display: flex; gap: 10px; border-bottom: 2px solid #e5e7eb; }
.btn-subnav { padding: 10px 20px; border: none; background-color: transparent; cursor: pointer; font-size: 16px; font-weight: 500; color: #6b7280; border-bottom: 3px solid transparent; margin-bottom: -2px; }
.btn-subnav.active { color: #007BFF; border-bottom-color: #007BFF; }

.sub-page-wrapper {
    display: grid;
    grid-template-columns: 1fr;
}
#sub-page-metricas, #sub-page-pontos {
    grid-area: 1 / 1 / -1 / -1;
}

/* O Grid de Métricas Visuais */
.metricas-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 30px; width: 100%; }
.metricas-grid .grid-item {
    &#coluna-stats { grid-column: 1 / 2; grid-row: 1 / 1; display: flex; flex-direction: column; gap: 20px; }
    &#coluna-heatmap { grid-column: 2 / 5; grid-row: 1 / 1; }
    &#coluna-donut { grid-column: 5 / 7; grid-row: 1 / 1; }
    &#item-semanal { grid-column: 1 / 4; grid-row: 2 / 2; }
    &#item-desempenho-materia { grid-column: 4 / 7; grid-row: 2 / 2; }
    &#item-questoes-materia { grid-column: 1 / 4; grid-row: 3 / 3; }
    &#item-flashcards-materia { grid-column: 4 / 7; grid-row: 3 / 3; }
    &#item-tempo-diario { grid-column: 1 / -1; grid-row: 4 / 5; } 
    &#item-tempo-materia { grid-column: 1 / 4; grid-row: 5 / 6; }
    &#item-tempo-area { grid-column: 4 / 7; grid-row: 5 / 6; }
}

/* Cards, Contêineres, Heatmap, Gráficos */
.stat-card, .heatmap-container, .chart-container { background-color: #ffffff; padding: 25px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0, 39, 112, 0.06); border: 1px solid #e9edf2; height: 100%; box-sizing: border-box; }
.stat-card { text-align: center; padding: 15px 20px; }
.stat-card h4 { margin: 0 0 4px 0; color: #4a5568; font-size: 14px; font-weight: 500; }
.stat-card p { margin: 0; color: #007BFF; font-size: 28px; font-weight: bold; line-height: 1.1; }
.chart-container h3, .heatmap-container h4 { margin: 0 0 20px 0; font-size: 18px; text-align: center; color: #1c3d5a; }
.heatmap-container { display: flex; flex-direction: column; }
.heatmap-container h4 { text-align: left; }
#heatmap-calendario { display: grid; grid-template-rows: repeat(7, 1fr); grid-auto-flow: column; gap: 4px; flex-grow: 1; min-height: 130px; }
.heatmap-day { aspect-ratio: 1 / 1; background-color: #ebedf0; border-radius: 3px; }
.heatmap-day.level-1 { background-color: #9be9a8; } .heatmap-day.level-2 { background-color: #40c463; } .heatmap-day.level-3 { background-color: #30a14e; } .heatmap-day.level-4 { background-color: #216e39; }
.sequencia-container { text-align: center; margin-top: 20px; }
.sequencia-container h4 { font-size: 15px; color: #4a5568; margin: 0 0 5px 0; }
.sequencia-container p { font-size: 28px; font-weight: bold; color: #007BFF; margin: 0; }

/* --- SEÇÃO DE ANÁLISE (PONTOS FORTES E A MELHORAR) --- */
.bloco-analise { margin-bottom: 20px; border: 1px solid #e9edf2; border-radius: 12px; background-color: #ffffff; overflow: hidden; }
.bloco-analise summary { display: flex; align-items: center; justify-content: space-between; padding: 20px; font-size: 18px; font-weight: 600; color: #1c3d5a; cursor: pointer; background-color: #f8f9fa; list-style: none; }
.bloco-analise summary::-webkit-details-marker { display: none; }
.bloco-analise summary::before { content: '›'; font-size: 24px; font-weight: bold; margin-right: 15px; transform: rotate(0deg); transition: transform 0.2s ease-in-out; }
.bloco-analise[open] > summary::before { transform: rotate(90deg); }
.bloco-analise .tabela-container { padding: 0 20px 20px 20px; border-top: 1px solid #e9edf2; }
.info-icon { display: inline-flex; align-items: center; justify-content: center; cursor: help; stroke: #6b7280; }
.tabela-analise { width: 100%; border-collapse: collapse; font-size: 14px; }
.tabela-analise th, .tabela-analise td { padding: 12px 15px; text-align: left; }
.tabela-analise thead tr { border-bottom: 2px solid #e0e0e0; }
.tabela-analise th { font-weight: 600; color: #333; }
.tabela-analise tbody tr { border-bottom: 1px solid #f0f0f0; }
.tabela-analise tbody tr:last-child { border-bottom: none; }

/* --- SEÇÃO HISTÓRICO DE ESTUDOS --- */
th.sortable { cursor: pointer; user-select: none; }
th.sortable:hover { background-color: #f4f7f6; }
th.active-sort { color: #007BFF; }
#historico-estudos .tabela-container { background-color: #ffffff; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0, 39, 112, 0.06); border: 1px solid #e9edf2; overflow-x: auto; }
#tabela-historico { width: 100%; border-collapse: collapse; font-size: 14px; }
#tabela-historico thead tr { border-bottom: 2px solid #e5e7eb; }
#tabela-historico th { padding: 12px 15px; text-align: left; font-weight: 600; color: #374151; }
#tabela-historico tbody tr { border-bottom: 1px solid #f3f4f6; }
#tabela-historico tbody tr:last-child { border-bottom: none; }
#tabela-historico tbody tr:hover { background-color: #f9fafb; }
#tabela-historico td { padding: 12px 15px; color: #374151; vertical-align: middle; }
#tabela-historico .action-buttons { opacity: 0; transition: opacity 0.2s ease-in-out; display: flex; gap: 10px; }
#tabela-historico tbody tr:hover .action-buttons { opacity: 1; }
.action-btn { border: none; padding: 6px 10px; border-radius: 6px; cursor: pointer; font-size: 14px; display: inline-flex; align-items: center; justify-content: center; color: white; font-weight: 500; }
.edit-btn { background-color: #007BFF; }
.delete-btn { background-color: #dc3545; }

/* --- SISTEMA DE MODAL (POP-UP) --- */
.modal-container { position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); display: flex; justify-content: center; align-items: center; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; }
.modal-container:not(.hidden) { opacity: 1; visibility: visible; }
.modal-content { background-color: #fff; padding: 30px 40px; border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.3); width: 90%; max-width: 500px; position: relative; transform: scale(0.95); transition: transform 0.3s ease; }
.modal-container:not(.hidden) .modal-content { transform: scale(1); }
.modal-content h2, .modal-content h3 { margin-top: 0; color: #1c3d5a; }
.modal-content p { color: #4a5568; line-height: 1.6; }
.close-modal-btn { color: #aaa; position: absolute; top: 10px; right: 20px; font-size: 28px; font-weight: bold; cursor: pointer; }
.close-modal-btn:hover { color: #000; }
.modal-buttons { display: flex; justify-content: flex-end; gap: 15px; margin-top: 30px; }
.modal-btn { border: none; padding: 10px 25px; border-radius: 8px; cursor: pointer; font-size: 15px; font-weight: bold; transition: background-color 0.2s ease; }
.btn-confirm { background-color: #dc3545; color: white; }
.btn-confirm:hover { background-color: #c82333; }
.btn-cancel { background-color: #e9edf2; color: #4a5568; }
.btn-cancel:hover { background-color: #dbe1e8; }
#modal-body .form-group { margin-bottom: 20px; }
#modal-body label { display: block; margin-bottom: 8px; color: #374151; font-weight: 500; font-size: 14px; }
#modal-body input, #modal-body select { width: 100%; padding: 12px 15px; font-size: 16px; border: 1px solid #d1d5db; border-radius: 8px; box-sizing: border-box; background-color: #f9fafb; color: #111827; transition: all 0.2s ease-in-out; }
#modal-body input:focus, #modal-body select:focus { outline: none; border-color: #007bff; box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2); }
#modal-body .modal-buttons { margin-top: 10px; }

/* ========================================================= */
/* ESTILOS DA SEÇÃO DO CRONÔMETRO (VERSÃO FINAL E POLIDA)  */
/* ========================================================= */

/* CORREÇÃO 1: Faz o card ocupar a largura toda, como a tabela de histórico */
.cronometro-card {
    background-color: #ffffff;
    padding: 30px 40px;
    border-radius: 12px;
    border: 1px solid #e9edf2;
    box-shadow: 0 4px 12px rgba(0, 39, 112, 0.06);
    /* Removido o max-width e a margem para que ele ocupe o espaço disponível */
}

.cronometro-display-container {
    text-align: center;
    border-bottom: 1px solid #e5e7eb;
    padding-bottom: 30px;
    margin-bottom: 30px;
}

/* CORREÇÃO 4: Design mais moderno e elegante para os números */
#cronometro-display {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; /* Usa a fonte padrão da plataforma */
    font-size: 5.5rem;
    font-weight: 300; /* Fonte mais leve */
    color: #374151; /* Cor um pouco mais suave */
    letter-spacing: 2px; /* Espaçamento mais sutil */
    margin-bottom: 25px;
}

.cronometro-controles {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
}

.cronometro-btn {
    border: none;
    padding: 10px 22px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 15px;
    font-weight: bold;
    color: white;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 8px;
}
.cronometro-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.start-btn { background-color: #28a745; } 
.pause-btn { background-color: #ffc107; color: #1f2937;}
/* CORREÇÃO 3: Botão Resetar agora é vermelho */
.reset-btn { background-color: #dc3545; }
.salvar-btn { background-color: #007BFF; }

/* CORREÇÃO 2: Aplica o design moderno aos campos do formulário */
.cronometro-form-container .form-row {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
}
.cronometro-form-container .form-group {
    flex: 1;
    display: flex;
    flex-direction: column;
}

/* Reutiliza os estilos dos outros formulários */
.cronometro-form-container label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: #374151;
}
.cronometro-form-container input, .cronometro-form-container select {
    width: 100%;
    padding: 12px 15px;
    font-size: 15px;
    border: 1px solid #d1d5db;
    border-radius: 8px;
    box-sizing: border-box;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
.cronometro-form-container input:focus, .cronometro-form-container select:focus {
    outline: none;
    border-color: #007BFF;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2);
}

/* --- ESTILOS PARA FILTROS DE GRÁFICO --- */
.chart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.chart-header h3 {
    margin: 0;
    font-size: 18px;
    color: #1c3d5a;
    text-align: left;
}

.filtro-container {
    position: relative;
}

.filtro-btn {
    background-color: #f3f4f6;
    border: 1px solid #d1d5db;
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 500;
    font-size: 14px;
    color: #374151;
}

.filtro-dropdown {
    position: absolute;
    top: 105%;
    right: 0;
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 8px 16px rgba(0,0,0,0.1);
    border: 1px solid #e5e7eb;
    z-index: 10;
    padding: 8px;
    width: 170px;
}

.filtro-dropdown a {
    display: block;
    padding: 10px 12px;
    text-decoration: none;
    color: #374151;
    border-radius: 6px;
    font-size: 14px;
}

.filtro-dropdown a:hover {
    background-color: #f3f4f6;
}

/* --- SEÇÃO DE ANÁLISE (PONTOS FORTES E A MELHORAR) --- */
#sub-page-pontos {
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
}

.bloco-analise {
    border: 1px solid #e9edf2;
    border-radius: 12px;
    background-color: #ffffff; 
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 39, 112, 0.06);
}

.bloco-analise summary {
    display: flex;
    align-items: center;
    justify-content: space-between; 
    padding: 20px;
    font-size: 18px;
    font-weight: 600;
    color: #1c3d5a;
    cursor: pointer;
    background-color: #f8f9fa; 
    list-style: none; /* Remove o marcador padrão */
}

/* Remove o marcador padrão em todos os navegadores */
.bloco-analise summary::-webkit-details-marker {
    display: none;
}

.bloco-analise summary::before {
    content: '›'; 
    font-size: 24px;
    font-weight: bold;
    margin-right: 15px;
    transform: rotate(0deg);
    transition: transform 0.2s ease-in-out;
}

.bloco-analise[open] > summary::before {
    transform: rotate(90deg);
}

.bloco-analise .tabela-container {
    padding: 0 20px 20px 20px;
    border-top: 1px solid #e9edf2;
}

.info-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: help;
    stroke: #6b7280;
}

.tabela-analise {
    width: 100%;
    border-collapse: collapse;
    font-size: 14px;
}
.tabela-analise th, .tabela-analise td {
    padding: 12px 15px;
    text-align: left;
}
.tabela-analise thead tr {
    border-bottom: 2px solid #e0e0e0;
}
.tabela-analise th {
    font-weight: 600;
    color: #333;
}
.tabela-analise tbody tr {
    border-bottom: 1px solid #f0f0f0;
}
.tabela-analise tbody tr:last-child {
    border-bottom: none;
}

/* Adicionado para controlar o tamanho do gráfico de pizza */
#item-tempo-area .chart-container {
    display: flex;
    flex-direction: column;
    align-items: center; /* Centraliza o wrapper do gráfico */
}

.pie-chart-wrapper {
    position: relative;
    max-width: 350px; /* Limita o tamanho máximo do gráfico */
    max-height: 350px; /* Limita a altura máxima */
    width: 100%;
    margin-top: 20px;
}
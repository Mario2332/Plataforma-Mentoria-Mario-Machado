body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    background-color: #f0f4f8; /* Um fundo cinza bem claro */
    margin: 0;
    display: flex;
    flex-direction: column; /* Organiza os itens em coluna (um em cima do outro) */
    min-height: 100vh; /* Garante que a página ocupe no mínimo a altura toda da tela */
}

/* Estilo para o cabeçalho no topo */
header {
    background-color: white;
    padding: 15px 30px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05); /* Sombra leve para dar profundidade */
    text-align: center;
    border-bottom: 1px solid #e0e0e0;
}

/* Estilo específico para o h1 DENTRO do header ("Mentoria Mario Machado") */
header h1 {
    margin: 0;
    font-size: 22px;
    color: #333;
    font-weight: 600;
}

/* O conteúdo principal da página (seção que vai centralizar a caixa de login) */
main {
    flex-grow: 1; /* Faz esta seção "crescer" para ocupar o espaço disponível */
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

/* O container branco do formulário de login */
.login-container {
    background-color: white;
    padding: 40px;
    border-radius: 8px; /* Bordas arredondadas */
    box-shadow: 0 4px D10px rgba(0, 0, 0, 0.1); /* Sombra suave */
    text-align: center;
    width: 100%;
    max-width: 380px; /* Largura máxima da caixa de login */
    box-sizing: border-box; /* Evita que o padding altere a largura total */
}

/* Título de dentro da caixa de login ("Acesso do Aluno") */
.login-container h2 {
    color: #333;
    margin-top: 0;
    margin-bottom: 10px;
}

/* Texto de instrução dentro da caixa de login */
.login-container p {
    color: #666;
    margin-bottom: 30px;
    font-size: 15px;
}

/* Texto acima do campo de digitação ("Código de Acesso:") */
.login-container label {
    display: block; /* Faz o texto ficar em sua própria linha */
    text-align: left;
    margin-bottom: 8px;
    font-weight: bold;
    color: #555;
    font-size: 14px;
}

/* O campo de texto onde o aluno digita o código */
.login-container input[type="text"] {
    width: 100%;
    padding: 12px;
    margin-bottom: 20px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box; /* Garante que o padding não aumente a largura */
    font-size: 16px;
}

/* O botão de entrar */
.login-container button {
    width: 100%;
    padding: 12px;
    background-color: #007BFF; /* Azul chamativo */
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer; /* Muda o cursor do mouse para uma "mãozinha" */
    font-size: 16px;
    font-weight: bold;
    transition: background-color 0.2s ease; /* Efeito suave na troca de cor */
}

/* Efeito visual quando o mouse passa por cima do botão */
.login-container button:hover {
    background-color: #0056b3; /* Um azul um pouco mais escuro */
}

/* ========================================= */
/* ESTILOS DA PÁGINA DO DASHBOARD         */
/* ========================================= */

/* Container principal que divide a página em duas colunas */
.dashboard-container {
    display: flex; /* Ativa o modo flexbox para alinhar os filhos lado a lado */
    width: 100%;
    flex-grow: 1; /* Faz o container crescer e ocupar o espaço restante da tela */
}

/* A barra lateral (menu) */
.sidebar {
    width: 240px; /* Largura fixa para o menu */
    background-color: #ffffff;
    padding: 30px 20px;
    border-right: 1px solid #e0e0e0;
    display: flex;
    flex-direction: column;
}

.student-info h3 {
    margin-top: 0;
    font-size: 18px;
    color: #333;
}

.sidebar nav {
    margin-top: 20px;
}

.sidebar nav ul {
    list-style: none; /* Remove as "bolinhas" da lista */
    padding: 0;
    margin: 0;
}

.sidebar nav li a {
    display: block;
    padding: 12px 15px;
    text-decoration: none; /* Remove o sublinhado dos links */
    color: #555;
    border-radius: 6px;
    font-weight: 500;
    margin-bottom: 5px;
}

/* Efeito ao passar o mouse sobre o item do menu */
.sidebar nav li a:hover {
    background-color: #f0f4f8; /* Mesmo cinza do fundo */
    color: #007BFF;
}

/* Estilo do item de menu que está ativo */
.sidebar nav li.active a {
    background-color: #007BFF;
    color: white;
}


/* Área de conteúdo principal (à direita) */
.main-content {
    flex-grow: 1; /* Faz esta área ocupar todo o espaço restante */
    padding: 40px;
    /* A cor de fundo já é definida pelo body, então não precisamos repetir */
}

#registro-estudos h2 {
    margin-top: 0;
    margin-bottom: 30px;
    color: #1c3d5a; /* Tom de azul escuro */
    font-size: 24px;
}

/* Estilos para o nosso novo formulário */
#form-registro .form-group {
    margin-bottom: 22px;
}

#form-registro label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600; /* Um pouco mais forte */
    color: #4a5568; /* Cinza azulado */
    font-size: 14px;
}

/* Estilo para os campos de input e o select */
#form-registro input[type="number"],
#form-registro input[type="text"],
#form-registro select {
    width: 100%;
    max-width: 500px;
    padding: 12px 15px;
    border: 1px solid #dbe1e8;
    border-radius: 8px;
    box-sizing: border-box;
    font-size: 15px;
    background-color: #f7faff; /* Fundo do campo levemente azulado */
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

/* Efeito de foco azul nos campos */
#form-registro input:focus,
#form-registro select:focus {
    outline: none;
    border-color: #007BFF;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.15);
}

#form-registro button[type="submit"] {
    width: auto; 
    padding: 12px 35px;
    background-color: #007BFF; /* Paleta Azul */
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
    transition: background-color 0.2s ease, transform 0.2s ease;
}

#form-registro button[type="submit"]:hover {
    background-color: #0056b3; /* Azul mais escuro */
    transform: translateY(-2px); /* Efeito de elevação sutil */
}

/* Classe para esconder elementos */
.hidden {
    display: none;
}

/* Estilos para os cards de estatísticas */
.stats-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.stat-card {
    background-color: #ffffff;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 39, 112, 0.08);
    border: 1px solid #e9edf2;
    text-align: center;
}

.stat-card h4 {
    margin-top: 0;
    margin-bottom: 10px;
    color: #4a5568;
    font-size: 15px;
}

.stat-card p {
    margin-bottom: 0;
    color: #007BFF;
    font-size: 32px;
    font-weight: bold;
}

/* Estilo para a área do gráfico */
.chart-container {
    background-color: #ffffff;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 39, 112, 0.08);
    border: 1px solid #e9edf2;
    margin-top: 40px; /* Espaçamento acima do gráfico */
}

/* Estilo para a área do gráfico */
.chart-container {
    background-color: #ffffff;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 39, 112, 0.08);
    border: 1px solid #e9edf2;
    margin-top: 40px; /* Adicione ou ajuste esta linha */
}

/* Estilos para a seção de visão geral (sequência e heatmap) */
.visao-geral-container {
    display: flex;
    gap: 20px;
    margin-bottom: 40px;
    align-items: flex-start;
}

.visao-geral-container .stat-card {
    flex-shrink: 0; /* Impede que o card da sequência encolha */
}

.heatmap-container {
    flex-grow: 1;
    background-color: #ffffff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 39, 112, 0.08);
    border: 1px solid #e9edf2;
}

.heatmap-container h4 {
    margin-top: 0;
    margin-bottom: 15px;
    color: #4a5568;
    font-size: 15px;
    text-align: left;
}

#heatmap-calendario {
    display: grid;
    /* Cria 13 colunas, aproximadamente 3 meses */
    grid-template-columns: repeat(13, 1fr);
    grid-template-rows: repeat(7, 1fr); /* 7 dias da semana */
    grid-auto-flow: column; /* Preenche as colunas primeiro */
    gap: 4px;
}

.heatmap-day {
    width: 100%;
    aspect-ratio: 1 / 1; /* Garante que seja um quadrado perfeito */
    background-color: #ebedf0; /* Cor para dias sem estudo */
    border-radius: 3px;
}

/* Níveis de cor para os dias com estudo */
.heatmap-day.level-1 { background-color: #9be9a8; }
.heatmap-day.level-2 { background-color: #40c463; }
.heatmap-day.level-3 { background-color: #30a14e; }
.heatmap-day.level-4 { background-color: #216e39; }

/* ================================================================= */
/* ESTILOS DO LAYOUT FINAL DO DASHBOARD (VERSÃO CORRIGIDA)        */
/* ================================================================= */

/* Alarga o container principal da dashboard */
.dashboard-container {
    max-width: 1600px; 
    margin: 0 auto;
    width: 95%; 
    display: flex;
    flex-grow: 1;
}

/* O Grid de Métricas com 6 colunas para controle preciso */
.metricas-grid {
    display: grid;
    /* Define 6 colunas de tamanho igual */
    grid-template-columns: repeat(6, 1fr);
    grid-auto-rows: auto;
    gap: 30px; 
    width: 100%;
}

/* --- ATRIBUIÇÃO CORRETA DOS ITENS AO GRID DE 6 COLUNAS --- */

/* Linha 1 */
#coluna-stats { 
    grid-column: 1 / 2; /* Ocupa a 1ª coluna */
    grid-row: 1 / 2;
    display: flex; 
    flex-direction: column; 
    gap: 20px;
}
#coluna-heatmap { 
    grid-column: 2 / 5; /* Ocupa 3 colunas no centro (2ª, 3ª, 4ª) */
    grid-row: 1 / 2;
}
#coluna-donut { 
    grid-column: 5 / 7; /* Ocupa as 2 últimas colunas */
    grid-row: 1 / 2;
}

/* Linha 2 */
#item-semanal { 
    grid-column: 1 / 4; /* Ocupa as 3 primeiras colunas, metade da tela */
    grid-row: 2 / 3;
}
#item-desempenho-materia { 
    grid-column: 4 / 7; /* Ocupa as 3 últimas colunas, garantindo o mesmo tamanho */
    grid-row: 2 / 3;
}

/* Linha 3, Metade Esquerda: Questões por Matéria */
#item-questoes-materia { 
    grid-column: 1 / 4; /* Ocupa as 3 primeiras colunas */
    grid-row: 3 / 4;
}

/* Linha 3, Metade Direita: Flashcards por Matéria */
#item-flashcards-materia {
    grid-column: 4 / 7; /* Ocupa as 3 últimas colunas, garantindo o mesmo tamanho */
    grid-row: 3 / 4;
}

/* --- ESTILOS DOS ITENS DO GRID (SEM ALTERAÇÕES SIGNIFICATIVAS) --- */

.stat-card, .heatmap-container, .chart-container {
    background-color: #ffffff;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 39, 112, 0.06);
    border: 1px solid #e9edf2;
}

.stat-card {
    text-align: center;
    padding: 15px 20px;
}
.stat-card h4 {
    margin: 0 0 4px 0;
    color: #4a5568;
    font-size: 14px;
    font-weight: 500;
}
.stat-card p {
    margin: 0;
    color: #007BFF;
    font-size: 28px;
    font-weight: bold;
    line-height: 1.1;
}

.chart-container h3, .heatmap-container h4 {
    margin: 0 0 20px 0;
    font-size: 18px;
    text-align: center;
    color: #1c3d5a;
}

.heatmap-container h4 {
    text-align: left;
}

#heatmap-calendario {
    display: grid;
    grid-template-rows: repeat(7, 1fr);
    grid-auto-flow: column;
    gap: 5px;
    height: 125px;
}
.heatmap-day {
    aspect-ratio: 1 / 1;
    background-color: #ebedf0;
    border-radius: 3px;
}
.heatmap-day.level-1 { background-color: #9be9a8; }
.heatmap-day.level-2 { background-color: #40c463; }
.heatmap-day.level-3 { background-color: #30a14e; }
.heatmap-day.level-4 { background-color: #216e39; }

.sequencia-container {
    text-align: center;
    margin-top: 150px;
}
.sequencia-container h4 {
    font-size: 15px;
    color: #4a5568;
    margin: 0 0 5px 0;
}
.sequencia-container p {
    font-size: 28px;
    font-weight: bold;
    color: #007BFF;
    margin: 0;
}

    /* ========================================= */
/* ESTILOS DA TABELA DE HISTÓRICO          */
/* ========================================= */

.tabela-container {
    background-color: #ffffff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 39, 112, 0.06);
    border: 1px solid #e9edf2;
    overflow-x: auto; /* Adiciona scroll horizontal em telas pequenas */
}

#tabela-historico {
    width: 100%;
    border-collapse: collapse; /* Une as bordas das células */
    font-size: 14px;
}

#tabela-historico thead tr {
    border-bottom: 2px solid #e0e0e0;
}

#tabela-historico th {
    padding: 12px 15px;
    text-align: left;
    font-weight: 600;
    color: #333;
}

#tabela-historico th.sortable {
    cursor: pointer;
    user-select: none; /* Impede que o texto seja selecionado ao clicar */
}

#tabela-historico th.sortable:hover {
    background-color: #f0f4f8;
}

#tabela-historico th.active-sort {
    color: #007BFF;
}

#tabela-historico tbody tr {
    border-bottom: 1px solid #f0f0f0;
}

#tabela-historico tbody tr:last-child {
    border-bottom: none;
}

#tabela-historico tbody tr:hover {
    background-color: #f9f9f9;
}

#tabela-historico td {
    padding: 12px 15px;
    color: #555;
}

/* ========================================================= */
/* ESTILOS PARA EDIÇÃO EM LINHA E AÇÕES NA TABELA      */
/* ========================================================= */

/* Faz a transição dos botões ser suave */
#tabela-historico .action-buttons {
    display: flex;
    gap: 10px;
    opacity: 0; /* Começam invisíveis */
    transition: opacity 0.2s ease-in-out;
}

/* Quando o mouse passa sobre a LINHA, os botões ficam visíveis */
#tabela-historico tbody tr:hover .action-buttons {
    opacity: 1;
}

.action-btn {
    border: none;
    padding: 6px 10px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 500;
}

.edit-btn { background-color: #007BFF; }
.delete-btn { background-color: #dc3545; }
.confirm-btn { background-color: #28a745; } /* Verde para confirmar */
.cancel-btn { background-color: #6c757d; } /* Cinza para cancelar */


/* Estilos para os campos de texto quando a linha está em modo de edição */
.tabela-container input, .tabela-container select {
    width: 100%;
    padding: 6px 8px;
    font-size: 14px;
    border: 1px solid #007BFF;
    border-radius: 4px;
    box-sizing: border-box;
}

/* ========================================= */
/* ESTILOS DO NOVO SISTEMA DE MODAL/POP-UP   */
/* ========================================= */

.modal-container {
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6); /* Fundo mais escuro */
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.modal-container:not(.hidden) {
    opacity: 1;
    visibility: visible;
}

.modal-content {
    background-color: #fff;
    padding: 30px 40px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    width: 90%;
    max-width: 450px;
    position: relative;
    transform: scale(0.95);
    transition: transform 0.3s ease;
}

.modal-container:not(.hidden) .modal-content {
    transform: scale(1);
}

.modal-content h2, .modal-content h3 {
    margin-top: 0;
    color: #1c3d5a;
}

.modal-content p {
    color: #4a5568;
    line-height: 1.6;
}

.close-modal-btn {
    color: #aaa;
    position: absolute;
    top: 10px;
    right: 20px;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}
.close-modal-btn:hover {
    color: #000;
}

.modal-buttons {
    display: flex;
    justify-content: flex-end;
    gap: 15px;
    margin-top: 30px;
}

.modal-btn {
    border: none;
    padding: 10px 25px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 15px;
    font-weight: bold;
    transition: background-color 0.2s ease;
}

.btn-confirm {
    background-color: #dc3545; /* Vermelho para confirmar exclusão */
    color: white;
}
.btn-confirm:hover { background-color: #c82333; }

.btn-cancel {
    background-color: #e9edf2; /* Cinza claro */
    color: #4a5568;
}
.btn-cancel:hover { background-color: #dbe1e8; 
}

/* ========================================================= */
/* ESTILOS MODERNOS PARA FORMULÁRIOS DENTRO DO MODAL     */
/* ========================================================= */

/* Aumenta um pouco a largura máxima do modal para dar mais espaço */
.modal-content {
    max-width: 500px;
    padding: 35px 45px; /* Aumenta o padding geral do modal */
}

/* Adiciona espaço entre os campos do formulário */
#modal-body .form-group {
    margin-bottom: 20px; 
}

/* Estilo para os rótulos (Matéria, Tempo, etc.) */
#modal-body label {
    display: block;
    margin-bottom: 8px; /* Aumenta o espaço abaixo do rótulo */
    color: #374151;    /* Um cinza mais escuro e profissional */
    font-weight: 500;
    font-size: 14px;
}

/* Estilo principal para os campos de input e select */
#modal-body input[type="number"],
#modal-body select {
    width: 100%;
    padding: 12px 15px; /* Aumenta o preenchimento interno para um toque mais "arejado" */
    font-size: 16px;
    border: 1px solid #d1d5db; /* Borda cinza clara */
    border-radius: 8px;        /* Bordas mais arredondadas */
    box-sizing: border-box;
    background-color: #f9fafb; /* Fundo muito sutilmente acinzentado */
    color: #111827;            /* Cor do texto escura */
    transition: all 0.2s ease-in-out; /* Transição suave para foco */
}

/* Efeito visual quando o campo está em foco (sendo usado) */
#modal-body input[type="number"]:focus,
#modal-body select:focus {
    border-color: #007bff; /* Cor da borda fica azul */
    outline: none;         /* Remove a linha de foco padrão e feia do navegador */
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2); /* Adiciona um brilho azul sutil */
}

/* Ajuste final nos botões dentro do modal para mais espaço */
#modal-body .modal-buttons {
    margin-top: 10px; /* Reduz a margem superior se o último elemento for um form-group */
}

/* ========================================= */
/* ESTILOS DA NOVA ÁREA DE ANÁLISE         */
/* ========================================= */

/* Container da sub-navegação */
.sub-nav {
    margin-bottom: 30px;
    display: flex;
    gap: 10px;
    border-bottom: 2px solid #e0e0e0;
}

.btn-subnav {
    padding: 10px 20px;
    border: none;
    background-color: transparent;
    cursor: pointer;
    font-size: 16px;
    font-weight: 500;
    color: #6c757d;
    border-bottom: 3px solid transparent;
    margin-bottom: -2px; /* Alinha o botão com a borda do container */
}

.btn-subnav.active {
    color: #007BFF;
    border-bottom-color: #007BFF;
}

/* Blocos retráteis (Pontos Fortes / A Melhorar) */
.bloco-analise {
    margin-bottom: 30px;
    border: 1px solid #e9edf2;
    border-radius: 12px;
}

.bloco-analise summary {
    padding: 20px;
    font-size: 20px;
    font-weight: 600;
    color: #1c3d5a;
    cursor: pointer;
    list-style: inside; /* Controla a posição do triângulo */
}

.bloco-analise .tabela-container {
    padding: 0 20px 20px 20px;
    border-top: 1px solid #e9edf2;
}

.info-icon {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 2px solid #6c757d;
    border-radius: 50%;
    color: #6c757d;
    text-align: center;
    font-size: 14px;
    line-height: 18px;
    font-weight: bold;
    cursor: help;
}